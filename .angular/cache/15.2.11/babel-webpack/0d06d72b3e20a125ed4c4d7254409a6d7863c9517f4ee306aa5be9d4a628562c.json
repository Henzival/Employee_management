{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../services/translation.service\";\nimport * as i2 from \"@angular/common\";\nfunction LanguageSwitcherComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 2)(1, \"button\", 3);\n    i0.ɵɵlistener(\"click\", function LanguageSwitcherComponent_div_0_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.switchLanguage(\"ru\"));\n    });\n    i0.ɵɵtext(2, \" RU \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"button\", 3);\n    i0.ɵɵlistener(\"click\", function LanguageSwitcherComponent_div_0_Template_button_click_3_listener() {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r4 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r4.switchLanguage(\"en\"));\n    });\n    i0.ɵɵtext(4, \" EN \");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵclassProp(\"active\", ctx_r0.currentLang === \"ru\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵclassProp(\"active\", ctx_r0.currentLang === \"en\");\n  }\n}\nfunction LanguageSwitcherComponent_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 4);\n    i0.ɵɵtext(1, \" Loading...\\n\");\n    i0.ɵɵelementEnd();\n  }\n}\nexport let LanguageSwitcherComponent = /*#__PURE__*/(() => {\n  class LanguageSwitcherComponent {\n    constructor(translationService, cdRef) {\n      this.translationService = translationService;\n      this.cdRef = cdRef;\n      this.currentLang = 'ru';\n      this.translationsLoaded = false;\n    }\n    ngOnInit() {\n      this.currentLang = this.translationService.getCurrentLang();\n      this.translationsSubscription = this.translationService.getTranslationsLoadedObservable().subscribe(loaded => {\n        this.translationsLoaded = loaded;\n        if (loaded) {\n          console.log('Translations loaded in language switcher');\n        }\n        this.cdRef.detectChanges();\n      });\n    }\n    ngOnDestroy() {\n      if (this.translationsSubscription) {\n        this.translationsSubscription.unsubscribe();\n      }\n    }\n    switchLanguage(lang) {\n      if (this.translationsLoaded) {\n        this.translationService.setLanguage(lang);\n        this.currentLang = lang;\n        this.cdRef.detectChanges();\n      }\n    }\n    static {\n      this.ɵfac = function LanguageSwitcherComponent_Factory(t) {\n        return new (t || LanguageSwitcherComponent)(i0.ɵɵdirectiveInject(i1.TranslationService), i0.ɵɵdirectiveInject(i0.ChangeDetectorRef));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: LanguageSwitcherComponent,\n        selectors: [[\"app-language-switcher\"]],\n        decls: 2,\n        vars: 2,\n        consts: [[\"class\", \"language-switcher\", 4, \"ngIf\"], [\"class\", \"language-switcher loading\", 4, \"ngIf\"], [1, \"language-switcher\"], [1, \"lang-btn\", 3, \"click\"], [1, \"language-switcher\", \"loading\"]],\n        template: function LanguageSwitcherComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵtemplate(0, LanguageSwitcherComponent_div_0_Template, 5, 4, \"div\", 0);\n            i0.ɵɵtemplate(1, LanguageSwitcherComponent_div_1_Template, 2, 0, \"div\", 1);\n          }\n          if (rf & 2) {\n            i0.ɵɵproperty(\"ngIf\", ctx.translationsLoaded);\n            i0.ɵɵadvance(1);\n            i0.ɵɵproperty(\"ngIf\", !ctx.translationsLoaded);\n          }\n        },\n        dependencies: [i2.NgIf],\n        styles: [\".language-switcher[_ngcontent-%COMP%]{display:flex;gap:.5rem}.language-switcher[_ngcontent-%COMP%]   .lang-btn[_ngcontent-%COMP%]{padding:.5rem 1rem;border:2px solid #1E3A8A;background:#FFFFFF;color:#1e3a8a;border-radius:8px;cursor:pointer;transition:all .3s ease;font-weight:700}.language-switcher[_ngcontent-%COMP%]   .lang-btn.active[_ngcontent-%COMP%]{background:#1E3A8A;color:#fff}.language-switcher[_ngcontent-%COMP%]   .lang-btn[_ngcontent-%COMP%]:hover:not(.active){background:#b8c6ef}\"]\n      });\n    }\n  }\n  return LanguageSwitcherComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}