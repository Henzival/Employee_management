{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../services/translation.service\";\nimport * as i2 from \"@angular/common\";\nfunction LanguageSwitcherComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 2)(1, \"button\", 3);\n    i0.ɵɵlistener(\"click\", function LanguageSwitcherComponent_div_0_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.switchLanguage(\"ru\"));\n    });\n    i0.ɵɵtext(2, \" RU \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"button\", 3);\n    i0.ɵɵlistener(\"click\", function LanguageSwitcherComponent_div_0_Template_button_click_3_listener() {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r4 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r4.switchLanguage(\"en\"));\n    });\n    i0.ɵɵtext(4, \" EN \");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵclassProp(\"active\", ctx_r0.currentLang === \"ru\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵclassProp(\"active\", ctx_r0.currentLang === \"en\");\n  }\n}\nfunction LanguageSwitcherComponent_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 4);\n    i0.ɵɵtext(1, \" Loading...\\n\");\n    i0.ɵɵelementEnd();\n  }\n}\nexport class LanguageSwitcherComponent {\n  constructor(translationService, cdRef) {\n    this.translationService = translationService;\n    this.cdRef = cdRef;\n    this.currentLang = 'ru';\n    this.translationsLoaded = false;\n  }\n  ngOnInit() {\n    this.currentLang = this.translationService.getCurrentLang();\n    this.translationsSubscription = this.translationService.getTranslationsLoadedObservable().subscribe(loaded => {\n      this.translationsLoaded = loaded;\n      if (loaded) {\n        console.log('Translations loaded in language switcher');\n      }\n      this.cdRef.detectChanges();\n    });\n  }\n  ngOnDestroy() {\n    if (this.translationsSubscription) {\n      this.translationsSubscription.unsubscribe();\n    }\n  }\n  switchLanguage(lang) {\n    if (this.translationsLoaded) {\n      this.translationService.setLanguage(lang);\n      this.currentLang = lang;\n      this.cdRef.detectChanges();\n    }\n  }\n  static {\n    this.ɵfac = function LanguageSwitcherComponent_Factory(t) {\n      return new (t || LanguageSwitcherComponent)(i0.ɵɵdirectiveInject(i1.TranslationService), i0.ɵɵdirectiveInject(i0.ChangeDetectorRef));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: LanguageSwitcherComponent,\n      selectors: [[\"app-language-switcher\"]],\n      decls: 2,\n      vars: 2,\n      consts: [[\"class\", \"language-switcher\", 4, \"ngIf\"], [\"class\", \"language-switcher loading\", 4, \"ngIf\"], [1, \"language-switcher\"], [1, \"lang-btn\", 3, \"click\"], [1, \"language-switcher\", \"loading\"]],\n      template: function LanguageSwitcherComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵtemplate(0, LanguageSwitcherComponent_div_0_Template, 5, 4, \"div\", 0);\n          i0.ɵɵtemplate(1, LanguageSwitcherComponent_div_1_Template, 2, 0, \"div\", 1);\n        }\n        if (rf & 2) {\n          i0.ɵɵproperty(\"ngIf\", ctx.translationsLoaded);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", !ctx.translationsLoaded);\n        }\n      },\n      dependencies: [i2.NgIf],\n      styles: [\".language-switcher[_ngcontent-%COMP%] {\\n  display: flex;\\n  gap: 0.5rem;\\n}\\n.language-switcher[_ngcontent-%COMP%]   .lang-btn[_ngcontent-%COMP%] {\\n  padding: 0.5rem 1rem;\\n  border: 2px solid #1E3A8A;\\n  background: #FFFFFF;\\n  color: #1E3A8A;\\n  border-radius: 8px;\\n  cursor: pointer;\\n  transition: all 0.3s ease;\\n  font-weight: bold;\\n}\\n.language-switcher[_ngcontent-%COMP%]   .lang-btn.active[_ngcontent-%COMP%] {\\n  background: #1E3A8A;\\n  color: #FFFFFF;\\n}\\n.language-switcher[_ngcontent-%COMP%]   .lang-btn[_ngcontent-%COMP%]:hover:not(.active) {\\n  background: #b8c6ef;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxhbmd1YWdlLXN3aXRjaGVyLmNvbXBvbmVudC5zY3NzIiwiLi5cXHN0eWxlc1xcX3ZhcmlhYmxlcy5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUVBO0VBQ0UsYUFBQTtFQUNBLFdBQUE7QUFERjtBQUdFO0VBQ0Usb0JBQUE7RUFDQSx5QkFBQTtFQUNBLG1CQ1JJO0VEU0osY0NQUTtFRFFSLGtCQ0lZO0VESFosZUFBQTtFQUNBLHlCQUFBO0VBQ0EsaUJBQUE7QUFESjtBQUdJO0VBQ0UsbUJDZE07RURlTixjQ2pCRTtBRGdCUjtBQUlJO0VBQ0UsbUJBQUE7QUFGTiIsImZpbGUiOiJsYW5ndWFnZS1zd2l0Y2hlci5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIkBpbXBvcnQgJy4uL3N0eWxlcy92YXJpYWJsZXMnO1xyXG5cclxuLmxhbmd1YWdlLXN3aXRjaGVyIHtcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIGdhcDogMC41cmVtO1xyXG4gIFxyXG4gIC5sYW5nLWJ0biB7XHJcbiAgICBwYWRkaW5nOiAwLjVyZW0gMXJlbTtcclxuICAgIGJvcmRlcjogMnB4IHNvbGlkICRkYXJrLWJsdWU7XHJcbiAgICBiYWNrZ3JvdW5kOiAkd2hpdGU7XHJcbiAgICBjb2xvcjogJGRhcmstYmx1ZTtcclxuICAgIGJvcmRlci1yYWRpdXM6ICRib3JkZXItcmFkaXVzO1xyXG4gICAgY3Vyc29yOiBwb2ludGVyO1xyXG4gICAgdHJhbnNpdGlvbjogYWxsIDAuM3MgZWFzZTtcclxuICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xyXG5cclxuICAgICYuYWN0aXZlIHtcclxuICAgICAgYmFja2dyb3VuZDogJGRhcmstYmx1ZTtcclxuICAgICAgY29sb3I6ICR3aGl0ZTtcclxuICAgIH1cclxuXHJcbiAgICAmOmhvdmVyOm5vdCguYWN0aXZlKSB7XHJcbiAgICAgIGJhY2tncm91bmQ6IGxpZ2h0ZW4oJGRhcmstYmx1ZSwgNTAlKTtcclxuICAgIH1cclxuICB9XHJcbn0iLCJcclxuJHdoaXRlOiAjRkZGRkZGO1xyXG4keWVsbG93OiAjZGZhYjAwO1xyXG4kZGFyay1ibHVlOiAjMUUzQThBO1xyXG4kZ3JlZW46ICMxMEI5ODE7XHJcblxyXG4kZm9udC1mYW1pbHk6ICdBcmlhbCcsIHNhbnMtc2VyaWY7XHJcbiRmb250LXNpemUtYmFzZTogMTZweDtcclxuXHJcbiRzcGFjaW5nLXhzOiAwLjI1cmVtO1xyXG4kc3BhY2luZy1zbTogMC41cmVtO1xyXG4kc3BhY2luZy1tZDogMC45cmVtO1xyXG4kc3BhY2luZy1sZzogMS4zcmVtO1xyXG4kc3BhY2luZy14bDogMS44cmVtO1xyXG5cclxuJGJvcmRlci1yYWRpdXM6IDhweDtcclxuJGJvcmRlci13aWR0aDogMnB4OyJdfQ== */\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvc2hhcmVkL2xhbmd1YWdlLXN3aXRjaGVyL2xhbmd1YWdlLXN3aXRjaGVyLmNvbXBvbmVudC5zY3NzIiwid2VicGFjazovLy4vc3JjL2FwcC9zaGFyZWQvc3R5bGVzL192YXJpYWJsZXMuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFFQTtFQUNFLGFBQUE7RUFDQSxXQUFBO0FBREY7QUFHRTtFQUNFLG9CQUFBO0VBQ0EseUJBQUE7RUFDQSxtQkNSSTtFRFNKLGNDUFE7RURRUixrQkNJWTtFREhaLGVBQUE7RUFDQSx5QkFBQTtFQUNBLGlCQUFBO0FBREo7QUFHSTtFQUNFLG1CQ2RNO0VEZU4sY0NqQkU7QURnQlI7QUFJSTtFQUNFLG1CQUFBO0FBRk47QUFDQSw0cURBQTRxRCIsInNvdXJjZXNDb250ZW50IjpbIkBpbXBvcnQgJy4uL3N0eWxlcy92YXJpYWJsZXMnO1xyXG5cclxuLmxhbmd1YWdlLXN3aXRjaGVyIHtcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIGdhcDogMC41cmVtO1xyXG4gIFxyXG4gIC5sYW5nLWJ0biB7XHJcbiAgICBwYWRkaW5nOiAwLjVyZW0gMXJlbTtcclxuICAgIGJvcmRlcjogMnB4IHNvbGlkICRkYXJrLWJsdWU7XHJcbiAgICBiYWNrZ3JvdW5kOiAkd2hpdGU7XHJcbiAgICBjb2xvcjogJGRhcmstYmx1ZTtcclxuICAgIGJvcmRlci1yYWRpdXM6ICRib3JkZXItcmFkaXVzO1xyXG4gICAgY3Vyc29yOiBwb2ludGVyO1xyXG4gICAgdHJhbnNpdGlvbjogYWxsIDAuM3MgZWFzZTtcclxuICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xyXG5cclxuICAgICYuYWN0aXZlIHtcclxuICAgICAgYmFja2dyb3VuZDogJGRhcmstYmx1ZTtcclxuICAgICAgY29sb3I6ICR3aGl0ZTtcclxuICAgIH1cclxuXHJcbiAgICAmOmhvdmVyOm5vdCguYWN0aXZlKSB7XHJcbiAgICAgIGJhY2tncm91bmQ6IGxpZ2h0ZW4oJGRhcmstYmx1ZSwgNTAlKTtcclxuICAgIH1cclxuICB9XHJcbn0iLCJcclxuJHdoaXRlOiAjRkZGRkZGO1xyXG4keWVsbG93OiAjZGZhYjAwO1xyXG4kZGFyay1ibHVlOiAjMUUzQThBO1xyXG4kZ3JlZW46ICMxMEI5ODE7XHJcblxyXG4kZm9udC1mYW1pbHk6ICdBcmlhbCcsIHNhbnMtc2VyaWY7XHJcbiRmb250LXNpemUtYmFzZTogMTZweDtcclxuXHJcbiRzcGFjaW5nLXhzOiAwLjI1cmVtO1xyXG4kc3BhY2luZy1zbTogMC41cmVtO1xyXG4kc3BhY2luZy1tZDogMC45cmVtO1xyXG4kc3BhY2luZy1sZzogMS4zcmVtO1xyXG4kc3BhY2luZy14bDogMS44cmVtO1xyXG5cclxuJGJvcmRlci1yYWRpdXM6IDhweDtcclxuJGJvcmRlci13aWR0aDogMnB4OyJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n    });\n  }\n}","map":{"version":3,"names":["i0","ɵɵelementStart","ɵɵlistener","LanguageSwitcherComponent_div_0_Template_button_click_1_listener","ɵɵrestoreView","_r3","ctx_r2","ɵɵnextContext","ɵɵresetView","switchLanguage","ɵɵtext","ɵɵelementEnd","LanguageSwitcherComponent_div_0_Template_button_click_3_listener","ctx_r4","ɵɵadvance","ɵɵclassProp","ctx_r0","currentLang","LanguageSwitcherComponent","constructor","translationService","cdRef","translationsLoaded","ngOnInit","getCurrentLang","translationsSubscription","getTranslationsLoadedObservable","subscribe","loaded","console","log","detectChanges","ngOnDestroy","unsubscribe","lang","setLanguage","ɵɵdirectiveInject","i1","TranslationService","ChangeDetectorRef","selectors","decls","vars","consts","template","LanguageSwitcherComponent_Template","rf","ctx","ɵɵtemplate","LanguageSwitcherComponent_div_0_Template","LanguageSwitcherComponent_div_1_Template","ɵɵproperty"],"sources":["D:\\employee-management\\src\\app\\shared\\language-switcher\\language-switcher.component.ts","D:\\employee-management\\src\\app\\shared\\language-switcher\\language-switcher.component.html"],"sourcesContent":["import { ChangeDetectionStrategy, ChangeDetectorRef, Component, OnInit, OnDestroy } from '@angular/core';\r\nimport { TranslationService } from '../services/translation.service';\r\nimport { Subscription } from 'rxjs';\r\n\r\n@Component({\r\n  selector: 'app-language-switcher',\r\n  templateUrl: './language-switcher.component.html',\r\n  styleUrls: ['./language-switcher.component.scss']\r\n})\r\nexport class LanguageSwitcherComponent implements OnInit, OnDestroy {\r\n  currentLang: string = 'ru';\r\n  translationsLoaded = false;\r\n\r\n  private translationsSubscription?: Subscription;\r\n\r\n  constructor(\r\n    private translationService: TranslationService, \r\n    private cdRef: ChangeDetectorRef\r\n  ) {}\r\n\r\n  public ngOnInit(): void {\r\n    this.currentLang = this.translationService.getCurrentLang();\r\n    \r\n    this.translationsSubscription = this.translationService.getTranslationsLoadedObservable()\r\n      .subscribe(loaded => {\r\n        this.translationsLoaded = loaded;\r\n        if (loaded) {\r\n          console.log('Translations loaded in language switcher');\r\n        }\r\n        this.cdRef.detectChanges();\r\n      });\r\n  }\r\n\r\n  public ngOnDestroy(): void {\r\n    if (this.translationsSubscription) {\r\n      this.translationsSubscription.unsubscribe();\r\n    }\r\n  }\r\n\r\n  public switchLanguage(lang: string): void {\r\n    if (this.translationsLoaded) {\r\n      this.translationService.setLanguage(lang);\r\n      this.currentLang = lang;\r\n      this.cdRef.detectChanges();\r\n    }\r\n  }\r\n}","<div class=\"language-switcher\" *ngIf=\"translationsLoaded\">\r\n  <button \r\n    [class.active]=\"currentLang === 'ru'\"\r\n    (click)=\"switchLanguage('ru')\"\r\n    class=\"lang-btn\">\r\n    RU\r\n  </button>\r\n  <button \r\n    [class.active]=\"currentLang === 'en'\"\r\n    (click)=\"switchLanguage('en')\"\r\n    class=\"lang-btn\">\r\n    EN\r\n  </button>\r\n</div>\r\n<div class=\"language-switcher loading\" *ngIf=\"!translationsLoaded\">\r\n  Loading...\r\n</div>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}