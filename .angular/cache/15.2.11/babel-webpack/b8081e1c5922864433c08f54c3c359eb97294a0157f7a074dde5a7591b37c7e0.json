{"ast":null,"code":"import { combineLatest, BehaviorSubject } from 'rxjs';\nimport { map, startWith } from 'rxjs/operators';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../shared/services/employee.service\";\nimport * as i2 from \"../../shared/services/auth.service\";\nimport * as i3 from \"../../shared/services/translation.service\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@angular/forms\";\nfunction EmployeeListComponent_ng_container_19_option_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 12);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const item_r4 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", item_r4.position.id)(\"disabled\", item_r4.count === 0);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate2(\" \", item_r4.position.name, \" (\", item_r4.count, \") \");\n  }\n}\nfunction EmployeeListComponent_ng_container_19_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, EmployeeListComponent_ng_container_19_option_1_Template, 2, 4, \"option\", 11);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const positionsWithCount_r2 = ctx.ngIf;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", positionsWithCount_r2);\n  }\n}\nfunction EmployeeListComponent_ng_container_22_table_1_tr_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\");\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"td\");\n    i0.ɵɵtext(12);\n    i0.ɵɵpipe(13, \"currency\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const employee_r9 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(employee_r9.employee_id);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(employee_r9.last_name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(employee_r9.first_name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(employee_r9.position_name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(employee_r9.contact_email);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(13, 6, employee_r9.salary));\n  }\n}\nfunction EmployeeListComponent_ng_container_22_table_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"table\", 15)(1, \"thead\")(2, \"tr\")(3, \"th\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"th\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"th\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"th\");\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"th\");\n    i0.ɵɵtext(12);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"th\");\n    i0.ɵɵtext(14);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(15, \"tbody\");\n    i0.ɵɵtemplate(16, EmployeeListComponent_ng_container_22_table_1_tr_16_Template, 14, 8, \"tr\", 16);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const employees_r5 = i0.ɵɵnextContext().ngIf;\n    const ctx_r6 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(ctx_r6.translationService.translate(\"EMPLOYEE.FIELDS.EMPLOYEE_ID\"));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r6.translationService.translate(\"EMPLOYEE.FIELDS.LAST_NAME\"));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r6.translationService.translate(\"EMPLOYEE.FIELDS.FIRST_NAME\"));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r6.translationService.translate(\"EMPLOYEE.FIELDS.POSITION\"));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r6.translationService.translate(\"EMPLOYEE.FIELDS.EMAIL\"));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r6.translationService.translate(\"EMPLOYEE.FIELDS.SALARY\"));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", employees_r5);\n  }\n}\nfunction EmployeeListComponent_ng_container_22_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 17)(1, \"p\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r7 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r7.translationService.translate(\"NODATA.MESSAGE\"));\n  }\n}\nfunction EmployeeListComponent_ng_container_22_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, EmployeeListComponent_ng_container_22_table_1_Template, 17, 7, \"table\", 13);\n    i0.ɵɵtemplate(2, EmployeeListComponent_ng_container_22_div_2_Template, 3, 1, \"div\", 14);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const employees_r5 = ctx.ngIf;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", employees_r5.length > 0);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", employees_r5.length === 0);\n  }\n}\nexport class EmployeeListComponent {\n  constructor(employeeService, authService, translationService) {\n    this.employeeService = employeeService;\n    this.authService = authService;\n    this.translationService = translationService;\n    // Фильтры как BehaviorSubject\n    this.sortBySubject = new BehaviorSubject('last_name');\n    this.filterPositionSubject = new BehaviorSubject('all');\n    // Загружаем данные\n    this.positions$ = this.employeeService.getPositions();\n    this.employees$ = this.employeeService.getEmployees();\n    this.isAdmin$ = this.authService.isLoggedIn();\n    // Создаем комбинированный Observable для позиций с количеством сотрудников\n    this.positionsWithCount$ = combineLatest([this.positions$, this.employees$.pipe(startWith([]))]).pipe(map(([positions, employees]) => {\n      return positions.map(position => ({\n        position,\n        count: employees.filter(emp => emp.position_id === position.id).length\n      }));\n    }));\n    // Комбинируем данные и фильтры\n    this.filteredEmployees$ = this.createFilteredEmployees();\n  }\n  ngOnInit() {\n    // Инициализация фильтров\n    this.filterPositionSubject.next('all');\n  }\n  createFilteredEmployees() {\n    return combineLatest([this.employees$.pipe(startWith([])), this.sortBySubject, this.filterPositionSubject]).pipe(map(([employees, sortBy, filterPosition]) => {\n      let filtered = [...employees];\n      // Фильтрация по должности\n      if (filterPosition && filterPosition !== 'all') {\n        filtered = filtered.filter(emp => emp.position_id === parseInt(filterPosition));\n      }\n      // Сортировка\n      filtered.sort((a, b) => {\n        switch (sortBy) {\n          case 'last_name':\n            return a.last_name.localeCompare(b.last_name);\n          case 'position':\n            return (a.position_name || '').localeCompare(b.position_name || '');\n          default:\n            return 0;\n        }\n      });\n      return filtered;\n    }));\n  }\n  // Методы для изменения фильтров\n  onSortChange(sortBy) {\n    this.sortBySubject.next(sortBy);\n  }\n  onPositionFilterChange(positionId) {\n    this.filterPositionSubject.next(positionId);\n  }\n  // Сброс фильтров\n  resetFilters() {\n    this.filterPositionSubject.next('all');\n    this.sortBySubject.next('last_name');\n  }\n  static {\n    this.ɵfac = function EmployeeListComponent_Factory(t) {\n      return new (t || EmployeeListComponent)(i0.ɵɵdirectiveInject(i1.EmployeeService), i0.ɵɵdirectiveInject(i2.AuthService), i0.ɵɵdirectiveInject(i3.TranslationService));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: EmployeeListComponent,\n      selectors: [[\"app-employee-list\"]],\n      decls: 24,\n      vars: 12,\n      consts: [[1, \"employee-list\"], [1, \"header-actions\"], [1, \"filters\"], [1, \"filter-group\"], [3, \"change\"], [\"value\", \"last_name\"], [\"value\", \"position\"], [1, \"position-filter\", 3, \"change\"], [\"value\", \"all\"], [4, \"ngIf\"], [1, \"table-container\"], [3, \"value\", \"disabled\", 4, \"ngFor\", \"ngForOf\"], [3, \"value\", \"disabled\"], [\"class\", \"table\", 4, \"ngIf\"], [\"class\", \"no-data\", 4, \"ngIf\"], [1, \"table\"], [4, \"ngFor\", \"ngForOf\"], [1, \"no-data\"]],\n      template: function EmployeeListComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"h2\");\n          i0.ɵɵtext(3);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(4, \"div\", 2)(5, \"div\", 3)(6, \"label\");\n          i0.ɵɵtext(7);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(8, \"select\", 4);\n          i0.ɵɵlistener(\"change\", function EmployeeListComponent_Template_select_change_8_listener($event) {\n            return ctx.onSortChange($event.target.value);\n          });\n          i0.ɵɵelementStart(9, \"option\", 5);\n          i0.ɵɵtext(10);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(11, \"option\", 6);\n          i0.ɵɵtext(12);\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(13, \"div\", 3)(14, \"label\");\n          i0.ɵɵtext(15);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(16, \"select\", 7);\n          i0.ɵɵlistener(\"change\", function EmployeeListComponent_Template_select_change_16_listener($event) {\n            return ctx.onPositionFilterChange($event.target.value);\n          });\n          i0.ɵɵelementStart(17, \"option\", 8);\n          i0.ɵɵtext(18);\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(19, EmployeeListComponent_ng_container_19_Template, 2, 1, \"ng-container\", 9);\n          i0.ɵɵpipe(20, \"async\");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(21, \"div\", 10);\n          i0.ɵɵtemplate(22, EmployeeListComponent_ng_container_22_Template, 3, 2, \"ng-container\", 9);\n          i0.ɵɵpipe(23, \"async\");\n          i0.ɵɵelementEnd()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(3);\n          i0.ɵɵtextInterpolate(ctx.translationService.translate(\"EMPLOYEE.LIST\"));\n          i0.ɵɵadvance(4);\n          i0.ɵɵtextInterpolate1(\"\", ctx.translationService.translate(\"FILTERS.SORT_BY\"), \":\");\n          i0.ɵɵadvance(3);\n          i0.ɵɵtextInterpolate(ctx.translationService.translate(\"FILTERS.LAST_NAME\"));\n          i0.ɵɵadvance(2);\n          i0.ɵɵtextInterpolate(ctx.translationService.translate(\"FILTERS.POSITION\"));\n          i0.ɵɵadvance(3);\n          i0.ɵɵtextInterpolate1(\"\", ctx.translationService.translate(\"FILTERS.FILTER_BY_POSITION\"), \":\");\n          i0.ɵɵadvance(3);\n          i0.ɵɵtextInterpolate(ctx.translationService.translate(\"POSITION.ALL\"));\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(20, 8, ctx.positionsWithCount$));\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(23, 10, ctx.filteredEmployees$));\n        }\n      },\n      dependencies: [i4.NgForOf, i4.NgIf, i5.NgSelectOption, i5.ɵNgSelectMultipleOption, i4.AsyncPipe, i4.CurrencyPipe],\n      styles: [\".employee-list[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%] {\\n  display: flex;\\n  justify-content: space-between;\\n  align-items: center;\\n  margin-bottom: 1.3rem;\\n}\\n.employee-list[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%] {\\n  color: #1E3A8A;\\n  margin: 0;\\n}\\n.employee-list[_ngcontent-%COMP%]   .filters[_ngcontent-%COMP%] {\\n  display: flex;\\n  gap: 1.3rem;\\n  margin-bottom: 1.3rem;\\n  flex-wrap: wrap;\\n}\\n.employee-list[_ngcontent-%COMP%]   .filters[_ngcontent-%COMP%]   .filter-group[_ngcontent-%COMP%] {\\n  display: flex;\\n  align-items: center;\\n  gap: 0.5rem;\\n}\\n.employee-list[_ngcontent-%COMP%]   .filters[_ngcontent-%COMP%]   .filter-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%] {\\n  font-weight: bold;\\n  color: #1E3A8A;\\n  white-space: nowrap;\\n}\\n.employee-list[_ngcontent-%COMP%]   .filters[_ngcontent-%COMP%]   .filter-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .employee-list[_ngcontent-%COMP%]   .filters[_ngcontent-%COMP%]   .filter-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] {\\n  padding: 0.5rem;\\n  border: 2px solid #8ea5e6;\\n  border-radius: 8px;\\n  min-width: 150px;\\n}\\n.employee-list[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%] {\\n  background: #FFFFFF;\\n  border-radius: 8px;\\n  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\\n  padding: 1.3rem;\\n  margin-bottom: 0.9rem;\\n  overflow-x: auto;\\n}\\n.employee-list[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%] {\\n  width: 100%;\\n  border-collapse: collapse;\\n  background: #FFFFFF;\\n}\\n.employee-list[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .employee-list[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%] {\\n  padding: 0.9rem;\\n  text-align: left;\\n  border-bottom: 1px solid #e1e7f9;\\n}\\n.employee-list[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%] {\\n  background: #1E3A8A;\\n  color: #FFFFFF;\\n  font-weight: bold;\\n  position: sticky;\\n  top: 0;\\n}\\n.employee-list[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover {\\n  background-color: #ffecac;\\n}\\n.employee-list[_ngcontent-%COMP%]   .no-data[_ngcontent-%COMP%] {\\n  text-align: center;\\n  padding: 1.8rem;\\n  color: #3a62d4;\\n  font-style: italic;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImVtcGxveWVlLWxpc3QuY29tcG9uZW50LnNjc3MiLCIuLlxcLi5cXHNoYXJlZFxcc3R5bGVzXFxfdmFyaWFibGVzLnNjc3MiLCIuLlxcLi5cXHNoYXJlZFxcc3R5bGVzXFxfbWl4aW5zLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBSUU7RUFDRSxhQUFBO0VBQ0EsOEJBQUE7RUFDQSxtQkFBQTtFQUNBLHFCQ01TO0FEVGI7QUFLSTtFQUNFLGNDUk07RURTTixTQUFBO0FBSE47QUFPRTtFQUNFLGFBQUE7RUFDQSxXQ0pTO0VES1QscUJDTFM7RURNVCxlQUFBO0FBTEo7QUFPSTtFQUNFLGFBQUE7RUFDQSxtQkFBQTtFQUNBLFdDYk87QURRYjtBQU9NO0VBQ0UsaUJBQUE7RUFDQSxjQzFCSTtFRDJCSixtQkFBQTtBQUxSO0FBUU07RUFDRSxlQ3RCSztFRHVCTCx5QkFBQTtFQUNBLGtCQ2xCUTtFRG1CUixnQkFBQTtBQU5SO0FBV0U7RUVKQSxtQkRyQ007RUNzQ04sa0JEckJjO0VDc0JkLHdDQUFBO0VBQ0EsZUQzQlc7RUM0QlgscUJEN0JXO0VEK0JULGdCQUFBO0FBTEo7QUFRRTtFQUNFLFdBQUE7RUFDQSx5QkFBQTtFQUNBLG1CQ2pESTtBRDJDUjtBQVFJO0VBQ0UsZUN4Q087RUR5Q1AsZ0JBQUE7RUFDQSxnQ0FBQTtBQU5OO0FBU0k7RUFDRSxtQkN4RE07RUR5RE4sY0MzREU7RUQ0REYsaUJBQUE7RUFDQSxnQkFBQTtFQUNBLE1BQUE7QUFQTjtBQVVJO0VBQ0UseUJBQUE7QUFSTjtBQVlFO0VBQ0Usa0JBQUE7RUFDQSxlQzFEUztFRDJEVCxjQUFBO0VBQ0Esa0JBQUE7QUFWSiIsImZpbGUiOiJlbXBsb3llZS1saXN0LmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiQGltcG9ydCAnLi4vLi4vc2hhcmVkL3N0eWxlcy92YXJpYWJsZXMnO1xyXG5AaW1wb3J0ICcuLi8uLi9zaGFyZWQvc3R5bGVzL21peGlucyc7XHJcblxyXG4uZW1wbG95ZWUtbGlzdCB7XHJcbiAgLmhlYWRlci1hY3Rpb25zIHtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XHJcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gICAgbWFyZ2luLWJvdHRvbTogJHNwYWNpbmctbGc7XHJcblxyXG4gICAgaDIge1xyXG4gICAgICBjb2xvcjogJGRhcmstYmx1ZTtcclxuICAgICAgbWFyZ2luOiAwO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLmZpbHRlcnMge1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGdhcDogJHNwYWNpbmctbGc7XHJcbiAgICBtYXJnaW4tYm90dG9tOiAkc3BhY2luZy1sZztcclxuICAgIGZsZXgtd3JhcDogd3JhcDtcclxuXHJcbiAgICAuZmlsdGVyLWdyb3VwIHtcclxuICAgICAgZGlzcGxheTogZmxleDtcclxuICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICAgICAgZ2FwOiAkc3BhY2luZy1zbTtcclxuXHJcbiAgICAgIGxhYmVsIHtcclxuICAgICAgICBmb250LXdlaWdodDogYm9sZDtcclxuICAgICAgICBjb2xvcjogJGRhcmstYmx1ZTtcclxuICAgICAgICB3aGl0ZS1zcGFjZTogbm93cmFwO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBzZWxlY3QsIGlucHV0IHtcclxuICAgICAgICBwYWRkaW5nOiAkc3BhY2luZy1zbTtcclxuICAgICAgICBib3JkZXI6ICRib3JkZXItd2lkdGggc29saWQgbGlnaHRlbigkZGFyay1ibHVlLCA0MCUpO1xyXG4gICAgICAgIGJvcmRlci1yYWRpdXM6ICRib3JkZXItcmFkaXVzO1xyXG4gICAgICAgIG1pbi13aWR0aDogMTUwcHg7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIC50YWJsZS1jb250YWluZXIge1xyXG4gICAgQGluY2x1ZGUgY2FyZC1zdHlsZTtcclxuICAgIG92ZXJmbG93LXg6IGF1dG87XHJcbiAgfVxyXG5cclxuICAudGFibGUge1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbiAgICBib3JkZXItY29sbGFwc2U6IGNvbGxhcHNlO1xyXG4gICAgYmFja2dyb3VuZDogJHdoaXRlO1xyXG5cclxuICAgIHRoLCB0ZCB7XHJcbiAgICAgIHBhZGRpbmc6ICRzcGFjaW5nLW1kO1xyXG4gICAgICB0ZXh0LWFsaWduOiBsZWZ0O1xyXG4gICAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQgbGlnaHRlbigkZGFyay1ibHVlLCA2MCUpO1xyXG4gICAgfVxyXG5cclxuICAgIHRoIHtcclxuICAgICAgYmFja2dyb3VuZDogJGRhcmstYmx1ZTtcclxuICAgICAgY29sb3I6ICR3aGl0ZTtcclxuICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7XHJcbiAgICAgIHBvc2l0aW9uOiBzdGlja3k7XHJcbiAgICAgIHRvcDogMDtcclxuICAgIH1cclxuXHJcbiAgICB0cjpob3ZlciB7XHJcbiAgICAgIGJhY2tncm91bmQtY29sb3I6IGxpZ2h0ZW4oJHllbGxvdywgNDAlKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC5uby1kYXRhIHtcclxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICAgIHBhZGRpbmc6ICRzcGFjaW5nLXhsO1xyXG4gICAgY29sb3I6IGxpZ2h0ZW4oJGRhcmstYmx1ZSwgMjAlKTtcclxuICAgIGZvbnQtc3R5bGU6IGl0YWxpYztcclxuICB9XHJcbn0iLCIvLyBDb2xvcnNcclxuJHdoaXRlOiAjRkZGRkZGO1xyXG4keWVsbG93OiAjZGZhYjAwO1xyXG4kZGFyay1ibHVlOiAjMUUzQThBO1xyXG4kZ3JlZW46ICMxMEI5ODE7XHJcblxyXG4vLyBUeXBvZ3JhcGh5XHJcbiRmb250LWZhbWlseTogJ0FyaWFsJywgc2Fucy1zZXJpZjtcclxuJGZvbnQtc2l6ZS1iYXNlOiAxNnB4O1xyXG5cclxuLy8gU3BhY2luZ1xyXG4kc3BhY2luZy14czogMC4yNXJlbTtcclxuJHNwYWNpbmctc206IDAuNXJlbTtcclxuJHNwYWNpbmctbWQ6IDAuOXJlbTtcclxuJHNwYWNpbmctbGc6IDEuM3JlbTtcclxuJHNwYWNpbmcteGw6IDEuOHJlbTtcclxuXHJcbi8vIEJvcmRlclxyXG4kYm9yZGVyLXJhZGl1czogOHB4O1xyXG4kYm9yZGVyLXdpZHRoOiAycHg7IiwiQG1peGluIGJ1dHRvbi1zdHlsZSgkYmctY29sb3IsICR0ZXh0LWNvbG9yOiAkd2hpdGUpIHtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiAkYmctY29sb3I7XHJcbiAgY29sb3I6ICR0ZXh0LWNvbG9yO1xyXG4gIGJvcmRlcjogbm9uZTtcclxuICBwYWRkaW5nOiAkc3BhY2luZy1zbSAkc3BhY2luZy1sZztcclxuICBib3JkZXItcmFkaXVzOiAkYm9yZGVyLXJhZGl1cztcclxuICBjdXJzb3I6IHBvaW50ZXI7XHJcbiAgZm9udC1zaXplOiAkZm9udC1zaXplLWJhc2U7XHJcbiAgdHJhbnNpdGlvbjogYWxsIDAuM3MgZWFzZTtcclxuICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XHJcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xyXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICBmb250LWZhbWlseTogJGZvbnQtZmFtaWx5O1xyXG5cclxuICAmOmhvdmVyIHtcclxuICAgIG9wYWNpdHk6IDAuOTtcclxuICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgtMnB4KTtcclxuICAgIGJveC1zaGFkb3c6IDAgNHB4IDhweCByZ2JhKDAsIDAsIDAsIDAuMik7XHJcbiAgfVxyXG5cclxuICAmOmRpc2FibGVkIHtcclxuICAgIG9wYWNpdHk6IDAuNjtcclxuICAgIGN1cnNvcjogbm90LWFsbG93ZWQ7XHJcbiAgICB0cmFuc2Zvcm06IG5vbmU7XHJcbiAgICBcclxuICAgICY6aG92ZXIge1xyXG4gICAgICB0cmFuc2Zvcm06IG5vbmU7XHJcbiAgICAgIGJveC1zaGFkb3c6IG5vbmU7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG5AbWl4aW4gYnV0dG9uLXNtYWxsIHtcclxuICBwYWRkaW5nOiAkc3BhY2luZy14cyAkc3BhY2luZy1tZDtcclxuICBmb250LXNpemU6IDAuODc1cmVtO1xyXG59XHJcblxyXG5AbWl4aW4gY2FyZC1zdHlsZSB7XHJcbiAgYmFja2dyb3VuZDogJHdoaXRlO1xyXG4gIGJvcmRlci1yYWRpdXM6ICRib3JkZXItcmFkaXVzO1xyXG4gIGJveC1zaGFkb3c6IDAgNHB4IDZweCByZ2JhKDAsIDAsIDAsIDAuMSk7XHJcbiAgcGFkZGluZzogJHNwYWNpbmctbGc7XHJcbiAgbWFyZ2luLWJvdHRvbTogJHNwYWNpbmctbWQ7XHJcbn1cclxuIl19 */\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy9lbXBsb3llZS1saXN0L2VtcGxveWVlLWxpc3QuY29tcG9uZW50LnNjc3MiLCJ3ZWJwYWNrOi8vLi9zcmMvYXBwL3NoYXJlZC9zdHlsZXMvX3ZhcmlhYmxlcy5zY3NzIiwid2VicGFjazovLy4vc3JjL2FwcC9zaGFyZWQvc3R5bGVzL19taXhpbnMuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFJRTtFQUNFLGFBQUE7RUFDQSw4QkFBQTtFQUNBLG1CQUFBO0VBQ0EscUJDTVM7QURUYjtBQUtJO0VBQ0UsY0NSTTtFRFNOLFNBQUE7QUFITjtBQU9FO0VBQ0UsYUFBQTtFQUNBLFdDSlM7RURLVCxxQkNMUztFRE1ULGVBQUE7QUFMSjtBQU9JO0VBQ0UsYUFBQTtFQUNBLG1CQUFBO0VBQ0EsV0NiTztBRFFiO0FBT007RUFDRSxpQkFBQTtFQUNBLGNDMUJJO0VEMkJKLG1CQUFBO0FBTFI7QUFRTTtFQUNFLGVDdEJLO0VEdUJMLHlCQUFBO0VBQ0Esa0JDbEJRO0VEbUJSLGdCQUFBO0FBTlI7QUFXRTtFRUpBLG1CRHJDTTtFQ3NDTixrQkRyQmM7RUNzQmQsd0NBQUE7RUFDQSxlRDNCVztFQzRCWCxxQkQ3Qlc7RUQrQlQsZ0JBQUE7QUFMSjtBQVFFO0VBQ0UsV0FBQTtFQUNBLHlCQUFBO0VBQ0EsbUJDakRJO0FEMkNSO0FBUUk7RUFDRSxlQ3hDTztFRHlDUCxnQkFBQTtFQUNBLGdDQUFBO0FBTk47QUFTSTtFQUNFLG1CQ3hETTtFRHlETixjQzNERTtFRDRERixpQkFBQTtFQUNBLGdCQUFBO0VBQ0EsTUFBQTtBQVBOO0FBVUk7RUFDRSx5QkFBQTtBQVJOO0FBWUU7RUFDRSxrQkFBQTtFQUNBLGVDMURTO0VEMkRULGNBQUE7RUFDQSxrQkFBQTtBQVZKO0FBQ0Esd21LQUF3bUsiLCJzb3VyY2VzQ29udGVudCI6WyJAaW1wb3J0ICcuLi8uLi9zaGFyZWQvc3R5bGVzL3ZhcmlhYmxlcyc7XHJcbkBpbXBvcnQgJy4uLy4uL3NoYXJlZC9zdHlsZXMvbWl4aW5zJztcclxuXHJcbi5lbXBsb3llZS1saXN0IHtcclxuICAuaGVhZGVyLWFjdGlvbnMge1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcclxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgICBtYXJnaW4tYm90dG9tOiAkc3BhY2luZy1sZztcclxuXHJcbiAgICBoMiB7XHJcbiAgICAgIGNvbG9yOiAkZGFyay1ibHVlO1xyXG4gICAgICBtYXJnaW46IDA7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAuZmlsdGVycyB7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgZ2FwOiAkc3BhY2luZy1sZztcclxuICAgIG1hcmdpbi1ib3R0b206ICRzcGFjaW5nLWxnO1xyXG4gICAgZmxleC13cmFwOiB3cmFwO1xyXG5cclxuICAgIC5maWx0ZXItZ3JvdXAge1xyXG4gICAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gICAgICBnYXA6ICRzcGFjaW5nLXNtO1xyXG5cclxuICAgICAgbGFiZWwge1xyXG4gICAgICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xyXG4gICAgICAgIGNvbG9yOiAkZGFyay1ibHVlO1xyXG4gICAgICAgIHdoaXRlLXNwYWNlOiBub3dyYXA7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHNlbGVjdCwgaW5wdXQge1xyXG4gICAgICAgIHBhZGRpbmc6ICRzcGFjaW5nLXNtO1xyXG4gICAgICAgIGJvcmRlcjogJGJvcmRlci13aWR0aCBzb2xpZCBsaWdodGVuKCRkYXJrLWJsdWUsIDQwJSk7XHJcbiAgICAgICAgYm9yZGVyLXJhZGl1czogJGJvcmRlci1yYWRpdXM7XHJcbiAgICAgICAgbWluLXdpZHRoOiAxNTBweDtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLnRhYmxlLWNvbnRhaW5lciB7XHJcbiAgICBAaW5jbHVkZSBjYXJkLXN0eWxlO1xyXG4gICAgb3ZlcmZsb3cteDogYXV0bztcclxuICB9XHJcblxyXG4gIC50YWJsZSB7XHJcbiAgICB3aWR0aDogMTAwJTtcclxuICAgIGJvcmRlci1jb2xsYXBzZTogY29sbGFwc2U7XHJcbiAgICBiYWNrZ3JvdW5kOiAkd2hpdGU7XHJcblxyXG4gICAgdGgsIHRkIHtcclxuICAgICAgcGFkZGluZzogJHNwYWNpbmctbWQ7XHJcbiAgICAgIHRleHQtYWxpZ246IGxlZnQ7XHJcbiAgICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCBsaWdodGVuKCRkYXJrLWJsdWUsIDYwJSk7XHJcbiAgICB9XHJcblxyXG4gICAgdGgge1xyXG4gICAgICBiYWNrZ3JvdW5kOiAkZGFyay1ibHVlO1xyXG4gICAgICBjb2xvcjogJHdoaXRlO1xyXG4gICAgICBmb250LXdlaWdodDogYm9sZDtcclxuICAgICAgcG9zaXRpb246IHN0aWNreTtcclxuICAgICAgdG9wOiAwO1xyXG4gICAgfVxyXG5cclxuICAgIHRyOmhvdmVyIHtcclxuICAgICAgYmFja2dyb3VuZC1jb2xvcjogbGlnaHRlbigkeWVsbG93LCA0MCUpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLm5vLWRhdGEge1xyXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gICAgcGFkZGluZzogJHNwYWNpbmcteGw7XHJcbiAgICBjb2xvcjogbGlnaHRlbigkZGFyay1ibHVlLCAyMCUpO1xyXG4gICAgZm9udC1zdHlsZTogaXRhbGljO1xyXG4gIH1cclxufSIsIi8vIENvbG9yc1xyXG4kd2hpdGU6ICNGRkZGRkY7XHJcbiR5ZWxsb3c6ICNkZmFiMDA7XHJcbiRkYXJrLWJsdWU6ICMxRTNBOEE7XHJcbiRncmVlbjogIzEwQjk4MTtcclxuXHJcbi8vIFR5cG9ncmFwaHlcclxuJGZvbnQtZmFtaWx5OiAnQXJpYWwnLCBzYW5zLXNlcmlmO1xyXG4kZm9udC1zaXplLWJhc2U6IDE2cHg7XHJcblxyXG4vLyBTcGFjaW5nXHJcbiRzcGFjaW5nLXhzOiAwLjI1cmVtO1xyXG4kc3BhY2luZy1zbTogMC41cmVtO1xyXG4kc3BhY2luZy1tZDogMC45cmVtO1xyXG4kc3BhY2luZy1sZzogMS4zcmVtO1xyXG4kc3BhY2luZy14bDogMS44cmVtO1xyXG5cclxuLy8gQm9yZGVyXHJcbiRib3JkZXItcmFkaXVzOiA4cHg7XHJcbiRib3JkZXItd2lkdGg6IDJweDsiLCJAbWl4aW4gYnV0dG9uLXN0eWxlKCRiZy1jb2xvciwgJHRleHQtY29sb3I6ICR3aGl0ZSkge1xyXG4gIGJhY2tncm91bmQtY29sb3I6ICRiZy1jb2xvcjtcclxuICBjb2xvcjogJHRleHQtY29sb3I7XHJcbiAgYm9yZGVyOiBub25lO1xyXG4gIHBhZGRpbmc6ICRzcGFjaW5nLXNtICRzcGFjaW5nLWxnO1xyXG4gIGJvcmRlci1yYWRpdXM6ICRib3JkZXItcmFkaXVzO1xyXG4gIGN1cnNvcjogcG9pbnRlcjtcclxuICBmb250LXNpemU6ICRmb250LXNpemUtYmFzZTtcclxuICB0cmFuc2l0aW9uOiBhbGwgMC4zcyBlYXNlO1xyXG4gIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcclxuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XHJcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gIGZvbnQtZmFtaWx5OiAkZm9udC1mYW1pbHk7XHJcblxyXG4gICY6aG92ZXIge1xyXG4gICAgb3BhY2l0eTogMC45O1xyXG4gICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC0ycHgpO1xyXG4gICAgYm94LXNoYWRvdzogMCA0cHggOHB4IHJnYmEoMCwgMCwgMCwgMC4yKTtcclxuICB9XHJcblxyXG4gICY6ZGlzYWJsZWQge1xyXG4gICAgb3BhY2l0eTogMC42O1xyXG4gICAgY3Vyc29yOiBub3QtYWxsb3dlZDtcclxuICAgIHRyYW5zZm9ybTogbm9uZTtcclxuICAgIFxyXG4gICAgJjpob3ZlciB7XHJcbiAgICAgIHRyYW5zZm9ybTogbm9uZTtcclxuICAgICAgYm94LXNoYWRvdzogbm9uZTtcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbkBtaXhpbiBidXR0b24tc21hbGwge1xyXG4gIHBhZGRpbmc6ICRzcGFjaW5nLXhzICRzcGFjaW5nLW1kO1xyXG4gIGZvbnQtc2l6ZTogMC44NzVyZW07XHJcbn1cclxuXHJcbkBtaXhpbiBjYXJkLXN0eWxlIHtcclxuICBiYWNrZ3JvdW5kOiAkd2hpdGU7XHJcbiAgYm9yZGVyLXJhZGl1czogJGJvcmRlci1yYWRpdXM7XHJcbiAgYm94LXNoYWRvdzogMCA0cHggNnB4IHJnYmEoMCwgMCwgMCwgMC4xKTtcclxuICBwYWRkaW5nOiAkc3BhY2luZy1sZztcclxuICBtYXJnaW4tYm90dG9tOiAkc3BhY2luZy1tZDtcclxufVxyXG4iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n    });\n  }\n}","map":{"version":3,"names":["combineLatest","BehaviorSubject","map","startWith","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵproperty","item_r4","position","id","count","ɵɵadvance","ɵɵtextInterpolate2","name","ɵɵelementContainerStart","ɵɵtemplate","EmployeeListComponent_ng_container_19_option_1_Template","ɵɵelementContainerEnd","positionsWithCount_r2","ɵɵtextInterpolate","employee_r9","employee_id","last_name","first_name","position_name","contact_email","ɵɵpipeBind1","salary","EmployeeListComponent_ng_container_22_table_1_tr_16_Template","ctx_r6","translationService","translate","employees_r5","ctx_r7","EmployeeListComponent_ng_container_22_table_1_Template","EmployeeListComponent_ng_container_22_div_2_Template","length","EmployeeListComponent","constructor","employeeService","authService","sortBySubject","filterPositionSubject","positions$","getPositions","employees$","getEmployees","isAdmin$","isLoggedIn","positionsWithCount$","pipe","positions","employees","filter","emp","position_id","filteredEmployees$","createFilteredEmployees","ngOnInit","next","sortBy","filterPosition","filtered","parseInt","sort","a","b","localeCompare","onSortChange","onPositionFilterChange","positionId","resetFilters","ɵɵdirectiveInject","i1","EmployeeService","i2","AuthService","i3","TranslationService","selectors","decls","vars","consts","template","EmployeeListComponent_Template","rf","ctx","ɵɵlistener","EmployeeListComponent_Template_select_change_8_listener","$event","target","value","EmployeeListComponent_Template_select_change_16_listener","EmployeeListComponent_ng_container_19_Template","EmployeeListComponent_ng_container_22_Template","ɵɵtextInterpolate1"],"sources":["D:\\employee-management\\src\\app\\components\\employee-list\\employee-list.component.ts","D:\\employee-management\\src\\app\\components\\employee-list\\employee-list.component.html"],"sourcesContent":["import { ChangeDetectionStrategy, Component, OnInit } from '@angular/core';\r\nimport { Observable, combineLatest, BehaviorSubject } from 'rxjs';\r\nimport { map, startWith } from 'rxjs/operators';\r\nimport { EmployeeService } from '../../shared/services/employee.service';\r\nimport { TranslationService } from '../../shared/services/translation.service';\r\nimport { AuthService } from '../../shared/services/auth.service';\r\nimport { IEmployee, IPosition } from '../../shared/interfaces/employee.interface';\r\n\r\n@Component({\r\n  selector: 'app-employee-list',\r\n  templateUrl: './employee-list.component.html',\r\n  styleUrls: ['./employee-list.component.scss'],\r\n  changeDetection: ChangeDetectionStrategy.Default\r\n})\r\nexport class EmployeeListComponent implements OnInit {\r\n  // Observable данные\r\n  employees$: Observable<IEmployee[]>;\r\n  positions$: Observable<IPosition[]>;\r\n  isAdmin$: Observable<boolean>;\r\n  \r\n  // Фильтры как BehaviorSubject\r\n  private sortBySubject = new BehaviorSubject<string>('last_name');\r\n  private filterPositionSubject = new BehaviorSubject<string>('all');\r\n\r\n  // Комбинированный Observable для отфильтрованных сотрудников\r\n  filteredEmployees$: Observable<IEmployee[]>;\r\n\r\n  // Для удобства в шаблоне - комбинированные данные positions и employees\r\n  positionsWithCount$: Observable<{position: IPosition, count: number}[]>;\r\n\r\n  constructor(\r\n    private employeeService: EmployeeService,\r\n    private authService: AuthService,\r\n    public translationService: TranslationService\r\n  ) {\r\n    // Загружаем данные\r\n    this.positions$ = this.employeeService.getPositions();\r\n    this.employees$ = this.employeeService.getEmployees();\r\n    this.isAdmin$ = this.authService.isLoggedIn();\r\n\r\n    // Создаем комбинированный Observable для позиций с количеством сотрудников\r\n    this.positionsWithCount$ = combineLatest([\r\n      this.positions$,\r\n      this.employees$.pipe(startWith([] as IEmployee[]))\r\n    ]).pipe(\r\n      map(([positions, employees]) => {\r\n        return positions.map(position => ({\r\n          position,\r\n          count: employees.filter(emp => emp.position_id === position.id).length\r\n        }));\r\n      })\r\n    );\r\n\r\n    // Комбинируем данные и фильтры\r\n    this.filteredEmployees$ = this.createFilteredEmployees();\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    // Инициализация фильтров\r\n    this.filterPositionSubject.next('all');\r\n  }\r\n\r\n  private createFilteredEmployees(): Observable<IEmployee[]> {\r\n    return combineLatest([\r\n      this.employees$.pipe(startWith([] as IEmployee[])),\r\n      this.sortBySubject,\r\n      this.filterPositionSubject\r\n    ]).pipe(\r\n      map(([employees, sortBy, filterPosition]) => {\r\n        let filtered = [...employees];\r\n\r\n        // Фильтрация по должности\r\n        if (filterPosition && filterPosition !== 'all') {\r\n          filtered = filtered.filter(emp =>\r\n            emp.position_id === parseInt(filterPosition)\r\n          );\r\n        }\r\n\r\n        // Сортировка\r\n        filtered.sort((a, b) => {\r\n          switch (sortBy) {\r\n            case 'last_name':\r\n              return a.last_name.localeCompare(b.last_name);\r\n            case 'position':\r\n              return (a.position_name || '').localeCompare(b.position_name || '');\r\n            default:\r\n              return 0;\r\n          }\r\n        });\r\n\r\n        return filtered;\r\n      })\r\n    );\r\n  }\r\n\r\n  // Методы для изменения фильтров\r\n  public onSortChange(sortBy: string): void {\r\n    this.sortBySubject.next(sortBy);\r\n  }\r\n\r\n  public onPositionFilterChange(positionId: string): void {\r\n    this.filterPositionSubject.next(positionId);\r\n  }\r\n\r\n  // Сброс фильтров\r\n  public resetFilters(): void {\r\n    this.filterPositionSubject.next('all');\r\n    this.sortBySubject.next('last_name');\r\n  }\r\n}","<div class=\"employee-list\">\r\n  <div class=\"header-actions\">\r\n    <h2>{{ translationService.translate('EMPLOYEE.LIST') }}</h2>\r\n  </div>\r\n\r\n  <!-- Фильтры -->\r\n  <div class=\"filters\">\r\n    <div class=\"filter-group\">\r\n      <label>{{ translationService.translate('FILTERS.SORT_BY') }}:</label>\r\n      <select (change)=\"onSortChange($any($event.target).value)\">\r\n        <option value=\"last_name\">{{ translationService.translate('FILTERS.LAST_NAME') }}</option>\r\n        <option value=\"position\">{{ translationService.translate('FILTERS.POSITION') }}</option>\r\n      </select>\r\n    </div>\r\n\r\n    <!-- Фильтр по должности -->\r\n    <div class=\"filter-group\">\r\n      <label>{{ translationService.translate('FILTERS.FILTER_BY_POSITION') }}:</label>\r\n      <select (change)=\"onPositionFilterChange($any($event.target).value)\"\r\n              class=\"position-filter\">\r\n        \r\n        <option value=\"all\">{{ translationService.translate('POSITION.ALL') }}</option>\r\n        \r\n        <!-- Используем подготовленные данные с количеством -->\r\n        <ng-container *ngIf=\"positionsWithCount$ | async as positionsWithCount\">\r\n          <option *ngFor=\"let item of positionsWithCount\" \r\n                  [value]=\"item.position.id\"\r\n                  [disabled]=\"item.count === 0\">\r\n            {{ item.position.name }} ({{ item.count }})\r\n          </option>\r\n        </ng-container>\r\n      </select>\r\n    </div>\r\n  </div>\r\n\r\n  <!-- Таблица сотрудников -->\r\n  <div class=\"table-container\">\r\n    \r\n    <!-- Отображаем данные через async pipe -->\r\n    <ng-container *ngIf=\"filteredEmployees$ | async as employees\">\r\n      <table class=\"table\" *ngIf=\"employees.length > 0\">\r\n        <thead>\r\n          <tr>\r\n            <th>{{ translationService.translate('EMPLOYEE.FIELDS.EMPLOYEE_ID') }}</th>\r\n            <th>{{ translationService.translate('EMPLOYEE.FIELDS.LAST_NAME') }}</th>\r\n            <th>{{ translationService.translate('EMPLOYEE.FIELDS.FIRST_NAME') }}</th>\r\n            <th>{{ translationService.translate('EMPLOYEE.FIELDS.POSITION') }}</th>\r\n            <th>{{ translationService.translate('EMPLOYEE.FIELDS.EMAIL') }}</th>\r\n            <th>{{ translationService.translate('EMPLOYEE.FIELDS.SALARY') }}</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          <tr *ngFor=\"let employee of employees\">\r\n            <td>{{ employee.employee_id }}</td>\r\n            <td>{{ employee.last_name }}</td>\r\n            <td>{{ employee.first_name }}</td>\r\n            <td>{{ employee.position_name }}</td>\r\n            <td>{{ employee.contact_email }}</td>\r\n            <td>{{ employee.salary | currency }}</td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n\r\n      <div *ngIf=\"employees.length === 0\" class=\"no-data\">\r\n        <p>{{ translationService.translate('NODATA.MESSAGE') }}</p>\r\n      </div>\r\n    </ng-container>\r\n  </div>\r\n</div>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}